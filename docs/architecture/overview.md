---
sidebar_position: 1
---

# Overview

---

## ðŸŸ¥ **Layer 1 â€“ Engine Coreï¼ˆå¼•æ“Žæ ¸å¿ƒå±‚ï¼‰**

**æ ¸å¿ƒå“²å­¦ï¼šå®Œå…¨é€šç”¨ï¼Œæ— é¢†åŸŸé€»è¾‘ã€‚æ‰€æœ‰è§„åˆ™ç”±æ‰©å±•åŒ…æä¾›ã€‚**

### **æ ¸å¿ƒæ¨¡å—**

* **Time Engine**ï¼ˆæ—¶é—´æŽ¨è¿› / Tickï¼‰
* **Event Bus**ï¼ˆäº‹ä»¶ç³»ç»Ÿï¼‰
* **Actor Framework**ï¼ˆActorBase / è¡Œä¸º / æ›´æ–°å¾ªçŽ¯ï¼‰
* **Action Engine**ï¼ˆè¡Œä¸ºå®šä¹‰ä¸Žæ‰§è¡Œï¼‰
* **State System**ï¼ˆå±žæ€§ç®¡ç†ï¼Œæ”¯æŒåŠ¨æ€å±žæ€§ï¼‰
* **Type Registry**ï¼ˆç±»åž‹ç³»ç»Ÿï¼šå±žæ€§/è¡Œä¸º/ç³»ç»Ÿæ³¨å†Œï¼‰
* **System Scheduler**ï¼ˆç³»ç»Ÿè°ƒåº¦å™¨ï¼šç¡®å®šæ€§ + å¹¶è¡Œï¼‰
* **Data Serialization**ï¼ˆç»Ÿä¸€æ•°æ®ç»“æž„ï¼Œå­˜æ¡£/åŠ è½½ï¼‰
* **Deterministic Randomness**ï¼ˆå¯å¤çŽ°éšæœºï¼‰
* **VFSï¼ˆVirtual File Systemï¼‰**ï¼ˆèµ„æºã€æ‰©å±•ã€Seedã€çš®è‚¤æŒ‚è½½ï¼‰
* **Resource Loader**ï¼ˆç»Ÿä¸€åŠ è½½èµ„æºï¼‰
* **UI Framework**ï¼ˆUI æ’æ§½/å¸ƒå±€æŽ¥å£ï¼‰
* **Save / Load System**ï¼ˆå­˜æ¡£ä½“ç³»ï¼‰

### **ActorBaseï¼ˆæ‰€æœ‰è§’è‰²åŸºç±»ï¼‰**

```
ActorBase {
  attributes: DynamicFields
  inventory: Item[]
  tags: string[]

  update(context)
  available_actions(): Action[]
}
```

**çŽ©å®¶ã€NPCã€äº¤æ˜“å‘˜ã€ä¿®ä»™è€…ã€ä¸§å°¸ç­‰å…¨éƒ¨ç»§æ‰¿è‡ª ActorBaseã€‚**

---

## ðŸŸ§ **Layer 2 â€“ Extensionsï¼ˆé€»è¾‘æ‰©å±•å±‚ï¼‰**

**æ‰€æœ‰ä¸–ç•Œé€»è¾‘ã€ç³»ç»Ÿè§„åˆ™ã€AIã€æŠ€èƒ½ã€äº¤æ˜“ã€ä¿®ä»™ç­‰å‡åœ¨æ­¤å±‚ï¼Œä¸åœ¨å¼•æ“Žå†…ã€‚**

### **æ‰©å±•åŒ…ç»“æž„**

```
extension/
  manifest.json
  attributes/
  actions/
  systems/
  events/
  strategies/
  ui/
```

### **Extension å†…å®¹è¯´æ˜Ž**

* **attributes/**ï¼šå¢žåŠ æ–°å±žæ€§ï¼ˆæ°”ã€çµæ ¹ã€æ æ†çŽ‡ã€å¸®æ´¾å£°æœ›â€¦ï¼‰
* **actions/**ï¼šäº¤æ˜“ã€ä¿®ç‚¼ã€æˆ˜æ–—ã€ç¤¾äº¤ã€èµ°ç§
* **systems/**ï¼šå¸‚åœºç³»ç»Ÿã€å¢ƒç•Œç³»ç»Ÿã€æˆ˜æ–—ç³»ç»Ÿã€ç¤¾äº¤ç³»ç»Ÿ
* **events/**ï¼šéšæœºäº‹ä»¶ã€å‰§æƒ…äº‹ä»¶ã€é¢†åŸŸäº‹ä»¶
* **strategies/**ï¼šAI ç­–ç•¥ï¼ˆäº¤æ˜“ç­–ç•¥/ä¿®ä»™AI/ç›‘ç‹±ç”Ÿå­˜ï¼‰
* **ui/**ï¼šç»“æž„åŒ– UIï¼ˆä¸å«æ ·å¼ï¼‰

### **Extension Manifest**

```
manifest.json:
  name
  version
  dependencies: ["Finance>=1.0"]
  conflicts: ["Cultivation<2.0"]
```

### **Extension ç”Ÿå‘½å‘¨æœŸï¼ˆLifecycle Hooksï¼‰**

* onLoad()
* onInitWorld()
* onTick()
* onEvent(event)
* onSave()
* onUnload()

---

## ðŸŸ© **Layer 3 â€“ Seedï¼ˆä¸–ç•Œå®šä¹‰å±‚ï¼‰**

**Seed = ä¸–ç•Œæœ¬ä½“é…ç½®ã€‚åŒ…å«ä¸–ç•Œè§‚ï¼Œä½†ä¸å®žçŽ°ç³»ç»Ÿé€»è¾‘ã€‚**

### **Seed æ–‡ä»¶ç»“æž„**

```
seed/
  meta.json
  world.json
  actors.json
  events.json
  rules.json
  ui_layout.json
  scenarios/     (å¯é€‰ï¼šä¸åŒå¼€å±€)
  assets/
```

### **Seed å®šä¹‰å†…å®¹**

#### â‘  ä¸–ç•Œè®¾ç½®ï¼ˆWorld Settingsï¼‰

* æ—¶é—´å•ä½
* ä½¿ç”¨å“ªäº› Extension
* åˆå§‹çŽ¯å¢ƒï¼ˆå¸‚åœºã€çµæ°”ã€ç›‘ç‹±æš´åŠ›å€¼â€¦ï¼‰

#### â‘¡ åˆå§‹ Actor é…ç½®

* ä¸»è§’
* NPC
* å¸‚åœºå‚ä¸Žè€…
* mobsï¼ˆåƒµå°¸ã€é‡Žå…½ã€å›šçŠ¯ï¼‰

#### â‘¢ ä¸–ç•Œè§„åˆ™

* ä¿®ä»™å¢ƒç•Œè§„åˆ™
* å¸‚åœºè§„åˆ™ï¼ˆäº¤æ˜“æˆæœ¬ã€å†…å¹•æ˜¯å¦åˆæ³•ï¼‰
* èµ„æºç³»ç»Ÿ
* æ³•å¾‹ç³»ç»Ÿ
* æ”¶å…¥æœºåˆ¶

#### â‘£ äº‹ä»¶ç³»ç»Ÿ

* å‰§æƒ…äº‹ä»¶
* éšæœºäº‹ä»¶
* ä¸–ç•Œäº‹ä»¶
* å¥‡é‡ / é»‘å¸‚çªå‘

#### â‘¤ UI å¸ƒå±€ï¼ˆç»“æž„ï¼Œä¸å«æ ·å¼ï¼‰

æŒ‡å®š UI æ’æ§½ä¸Žæ‰©å±• UI çš„ä½ç½®ã€‚

---

## ðŸŸ¦ **Layer 4 â€“ UI Skin Packï¼ˆçš®è‚¤å±‚ï¼‰**

**çº¯è§†è§‰å±‚ï¼Œæ— é€»è¾‘ï¼Œæ— ä¸–ç•Œé…ç½®ã€‚ç”¨äºŽä¸»é¢˜ã€ç¾Žæœ¯ã€åŠ¨ç”»ã€‚**

### **çš®è‚¤ç»“æž„**

```
skin/
  theme.json
  icons/
  backgrounds/
  animation/
  layout.json
  schema_adapter.json
```

### UI Skin è¦†ç›–ä¼˜å…ˆçº§

```
Engine < Extension < Seed < UI Skinï¼ˆæœ€é«˜ï¼‰
```

---

## ðŸŸ« **Token Identity Systemï¼ˆäººç”Ÿè®°å½•å±‚ï¼‰**

ä¸Žå¼•æ“Žé«˜åº¦è§£è€¦ï¼Œæä¾›è·¨ Seed çš„çŽ©å®¶å…ƒä¿¡æ¯ã€‚

å†…å®¹ï¼š

* æˆå°±æ ‘
* æ¸¸çŽ©è®°å½•
* run å°ç»“
* éšç§æ¨¡å¼
* äº‘ç«¯åŒæ­¥

ä¸å½±å“ä¸–ç•Œé€»è¾‘ï¼Œåªåšâ€œå…ƒå™äº‹â€ã€‚

---

## ðŸŸª **Runtime Execution Pipelineï¼ˆè¿è¡Œé¡ºåºï¼‰**

```
1. Load Engine Core
2. Mount VFSï¼ˆæ ¸å¿ƒ / æ‰©å±• / Seed / çš®è‚¤ï¼‰
3. Parse Extension manifest & dependencies
4. Register Typesï¼ˆå±žæ€§/è¡Œä¸º/ç³»ç»Ÿï¼‰
5. Load Seedï¼ˆworld/actors/eventsï¼‰
6. Merge UI schemaï¼ˆEngine + Extensions + Seedï¼‰
7. Apply UI Skinï¼ˆæœ€ç»ˆè§†è§‰ä¸»é¢˜ï¼‰
8. Initialize Schedulerï¼ˆç¡®å®šæ€§ + å¹¶è¡Œï¼‰
9. Initialize Extension Systems
10. Generate Actorsï¼ˆSeed â†’ å®žä¾‹åŒ–ï¼‰
11. Start Time Engine

12. æ¯ Tickï¼š
    a. Update Systemsï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰
    b. Update Actorsï¼ˆAI + Playerï¼‰
    c. Event Processing
    d. UI Renderingï¼ˆçš®è‚¤å±‚ï¼‰
    e. Token Log æ›´æ–°

13. Save / End
```

---

## ðŸŸ¦ **æœ€ç»ˆé¡¶å±‚æž¶æž„å›¾**

### æ¦‚è§ˆ
```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                  Engine Core
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 Time | EventBus | Actor | State | Action |
 TypeRegistry | Scheduler | Serialization |
 VFS | ResourceLoader | UI Framework | Save
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
              Extensionsï¼ˆN ä¸ªï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 systems | actions | attributes | events |
 strategies | ui_schema | manifest
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    Seed
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 world.json | actors.json | rules.json |
 events.json | scenarios/ | ui_layout.json
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                 UI Skin Pack
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 theme | icons | backgrounds | animations |
 layout | schema_adapter
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
              Token Identity
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 achievements | meta_progress | cloud sync
```

---

### ç›®æ ‡

âœ” **å®Œå…¨æ¨¡å—åŒ–**
âœ” **å¤©ç„¶æ”¯æŒ Mod / DLC / Workshop**
âœ” **è¿è¡Œé¡ºåºä¸“ä¸šè€Œæ¸…æ™°**
âœ” **æ”¯æŒ 2D / 3D / Roguelike / æ¨¡æ‹Ÿç»è¥ / ä¿®ä»™ / é‡‘èž**
âœ” **Seed / Skin / Extension ä¸‰åˆ›ä½œè€…ç”Ÿæ€å®Œç¾Žåˆ†ç¦»**
âœ” **å¯è¢«çŽ©å®¶æˆ–å›¢é˜Ÿé•¿æœŸæ‰©å±•**
